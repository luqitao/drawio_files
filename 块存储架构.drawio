<mxfile host="app.diagrams.net" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/127.0.0.0 Safari/537.36" version="24.7.7">
  <diagram id="Sv_K1uENLjbq1xUSF6ZQ" name="Page-1">
    <mxGraphModel dx="3728" dy="1103" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <mxCell id="zR75f5wU07sy2U2_FNKJ-174" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="256" y="319" width="110" height="210" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-187" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-21" y="321" width="110" height="210" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-133" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-40" y="119" width="434" height="188" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-131" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="-29" y="186" width="410" height="100" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-89" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-395.53999999999996" y="209" width="120" height="320" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-90" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="zR75f5wU07sy2U2_FNKJ-89" vertex="1">
          <mxGeometry x="10" width="100" height="290" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-91" value="spdk lvol" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-89" vertex="1">
          <mxGeometry x="20" y="137" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-93" value="" style="group" parent="zR75f5wU07sy2U2_FNKJ-89" vertex="1" connectable="0">
          <mxGeometry x="16" y="221" width="88" height="46" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-94" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-93" vertex="1">
          <mxGeometry width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-95" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-93" vertex="1">
          <mxGeometry x="23" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-96" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-93" vertex="1">
          <mxGeometry x="45" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-97" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-93" vertex="1">
          <mxGeometry x="68" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-98" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-93" vertex="1">
          <mxGeometry y="26" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-99" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-93" vertex="1">
          <mxGeometry x="23" y="26" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-100" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-93" vertex="1">
          <mxGeometry x="45" y="26" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-101" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;rotation=-90;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="zR75f5wU07sy2U2_FNKJ-93" vertex="1">
          <mxGeometry x="68" y="26" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-102" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="zR75f5wU07sy2U2_FNKJ-89" vertex="1">
          <mxGeometry y="217" width="120" height="54" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-103" value="Node n" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-89" vertex="1">
          <mxGeometry x="30" y="290" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-105" value="Etcd" style="rounded=1;whiteSpace=wrap;html=1;" parent="zR75f5wU07sy2U2_FNKJ-89" vertex="1">
          <mxGeometry x="25" y="13" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-106" value="ClusterManager" style="rounded=1;whiteSpace=wrap;html=1;" parent="zR75f5wU07sy2U2_FNKJ-89" vertex="1">
          <mxGeometry x="14" y="54" width="90" height="35" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-121" value="StorageServer" style="rounded=1;whiteSpace=wrap;html=1;" parent="zR75f5wU07sy2U2_FNKJ-89" vertex="1">
          <mxGeometry x="15" y="93" width="90" height="35" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-68" value="" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;" parent="1" source="zR75f5wU07sy2U2_FNKJ-8" target="zR75f5wU07sy2U2_FNKJ-67" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-8" value="Client" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-561.54" y="60" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-66" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;width=5.714285714285714;startSize=4.097142857142857;endSize=4.097142857142857;" parent="1" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="-665.54" y="239" as="sourcePoint" />
            <mxPoint x="-575.54" y="239" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-67" value="NVMe-TCP" style="rounded=0;whiteSpace=wrap;html=1;" parent="1" vertex="1">
          <mxGeometry x="-561.54" y="115" width="70" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-70" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-775.54" y="209" width="120" height="320" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-4" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="zR75f5wU07sy2U2_FNKJ-70" vertex="1">
          <mxGeometry x="10" width="100" height="290" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-12" value="spdk lvol" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-70" vertex="1">
          <mxGeometry x="20" y="137" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-15" value="spdk raid-5f" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-70" vertex="1">
          <mxGeometry x="20" y="196" width="80" height="19" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-37" value="" style="group" parent="zR75f5wU07sy2U2_FNKJ-70" vertex="1" connectable="0">
          <mxGeometry x="16" y="221" width="88" height="46" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-29" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-37" vertex="1">
          <mxGeometry width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-30" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-37" vertex="1">
          <mxGeometry x="23" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-31" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-37" vertex="1">
          <mxGeometry x="45" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-32" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-37" vertex="1">
          <mxGeometry x="68" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-33" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-37" vertex="1">
          <mxGeometry y="26" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-34" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-37" vertex="1">
          <mxGeometry x="23" y="26" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-35" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-37" vertex="1">
          <mxGeometry x="45" y="26" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-36" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;rotation=-90;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="zR75f5wU07sy2U2_FNKJ-37" vertex="1">
          <mxGeometry x="68" y="26" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-56" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="zR75f5wU07sy2U2_FNKJ-70" vertex="1">
          <mxGeometry y="217" width="120" height="54" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-62" value="Node 1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-70" vertex="1">
          <mxGeometry x="30" y="290" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-3" value="StorageServer" style="rounded=1;whiteSpace=wrap;html=1;" parent="zR75f5wU07sy2U2_FNKJ-70" vertex="1">
          <mxGeometry x="14" y="93" width="90" height="35" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-65" value="Etcd" style="rounded=1;whiteSpace=wrap;html=1;" parent="zR75f5wU07sy2U2_FNKJ-70" vertex="1">
          <mxGeometry x="25" y="13" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-69" value="ClusterManager" style="rounded=1;whiteSpace=wrap;html=1;" parent="zR75f5wU07sy2U2_FNKJ-70" vertex="1">
          <mxGeometry x="14" y="54" width="90" height="35" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-71" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-585.54" y="208" width="310" height="320" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-72" value="" style="rounded=1;whiteSpace=wrap;html=1;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="10" width="100" height="290" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-73" value="spdk lvol" style="text;html=1;strokeColor=#82b366;fillColor=#d5e8d4;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="20" y="137" width="80" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-75" value="" style="group" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1" connectable="0">
          <mxGeometry x="16" y="221" width="88" height="46" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-76" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-75" vertex="1">
          <mxGeometry width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-77" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-75" vertex="1">
          <mxGeometry x="23" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-78" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-75" vertex="1">
          <mxGeometry x="45" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-79" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-75" vertex="1">
          <mxGeometry x="68" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-80" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-75" vertex="1">
          <mxGeometry y="26" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-81" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-75" vertex="1">
          <mxGeometry x="23" y="26" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-82" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;fillColor=#99CCFF;rotation=-90;" parent="zR75f5wU07sy2U2_FNKJ-75" vertex="1">
          <mxGeometry x="45" y="26" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-83" value="" style="strokeWidth=1;html=1;shape=mxgraph.flowchart.direct_data;whiteSpace=wrap;rotation=-90;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="zR75f5wU07sy2U2_FNKJ-75" vertex="1">
          <mxGeometry x="68" y="26" width="20" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-84" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry y="217" width="120" height="54" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-85" value="Node 2" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="30" y="290" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-87" value="Etcd" style="rounded=1;whiteSpace=wrap;html=1;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="25" y="13" width="70" height="35" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-88" value="ClusterManager" style="rounded=1;whiteSpace=wrap;html=1;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="14" y="54" width="90" height="35" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-107" value="" style="shape=flexArrow;endArrow=classic;startArrow=classic;html=1;rounded=0;width=5.714285714285714;startSize=4.097142857142857;endSize=4.097142857142857;" parent="zR75f5wU07sy2U2_FNKJ-71" edge="1">
          <mxGeometry width="100" height="100" relative="1" as="geometry">
            <mxPoint x="110" y="35" as="sourcePoint" />
            <mxPoint x="200" y="35" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-18" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="-190" y="132" width="500" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-112" value="internal" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="125" y="5" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-114" value="json_grpc" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="125" y="32" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-116" value="spdk pool" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="19" y="174" width="80" height="19" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-117" value="spdk raid-5f" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="19" y="196" width="80" height="19" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-118" value="spdk raid-5f" style="text;html=1;strokeColor=#d6b656;fillColor=#fff2cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="210" y="196" width="80" height="19" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-119" value="spdk pool" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="210" y="174" width="80" height="19" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-120" value="StorageServer" style="rounded=1;whiteSpace=wrap;html=1;" parent="zR75f5wU07sy2U2_FNKJ-71" vertex="1">
          <mxGeometry x="14" y="93" width="90" height="35" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-108" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=classic;html=1;rounded=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-67" target="zR75f5wU07sy2U2_FNKJ-4" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-675.54" y="69" as="sourcePoint" />
            <mxPoint x="-665.54" y="159" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-625.54" y="169" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-109" value="" style="endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-67" target="zR75f5wU07sy2U2_FNKJ-72" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-275.53999999999996" y="149" as="sourcePoint" />
            <mxPoint x="-225.53999999999996" y="99" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-110" value="" style="edgeStyle=elbowEdgeStyle;elbow=vertical;endArrow=classic;html=1;rounded=0;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-67" edge="1">
          <mxGeometry width="50" height="50" relative="1" as="geometry">
            <mxPoint x="-516.54" y="150" as="sourcePoint" />
            <mxPoint x="-335.53999999999996" y="209" as="targetPoint" />
            <Array as="points">
              <mxPoint x="-615.54" y="169" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-111" value="internal" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-651.54" y="213" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-113" value="json_grpc" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-650.54" y="235" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-115" value="spdk pool" style="text;html=1;strokeColor=#d79b00;fillColor=#ffe6cc;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-755.54" y="383" width="80" height="19" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-128" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-122" target="zR75f5wU07sy2U2_FNKJ-123" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-129" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="zR75f5wU07sy2U2_FNKJ-125" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="178" y="179" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="178" y="199" />
              <mxPoint x="34" y="199" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-130" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" target="zR75f5wU07sy2U2_FNKJ-124" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="178" y="179" as="sourcePoint" />
            <Array as="points">
              <mxPoint x="178" y="199" />
              <mxPoint x="310" y="199" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-122" value="前端&lt;br&gt;NVMe-oF(用户态)" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="125" y="134" width="106" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-149" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-123" target="zR75f5wU07sy2U2_FNKJ-134" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-151" value="本地loopback" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="zR75f5wU07sy2U2_FNKJ-149" vertex="1" connectable="0">
          <mxGeometry x="-0.3117" y="1" relative="1" as="geometry">
            <mxPoint as="offset" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-123" value="主NVMe-oF" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="125" y="229" width="106" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-191" value="网络" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-124" target="zR75f5wU07sy2U2_FNKJ-174" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="461" y="319" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-124" value="从NVMe-oF" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="257" y="229" width="106" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-190" value="网络" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-125" target="zR75f5wU07sy2U2_FNKJ-187" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-125" value="从NVMe-oF" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-19" y="229" width="106" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-127" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-126" target="zR75f5wU07sy2U2_FNKJ-122" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-126" value="客户端&lt;br&gt;NVMe-cli(内核态)" style="rounded=0;whiteSpace=wrap;html=1;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="125" y="60" width="106" height="40" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-132" value="Nexus" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-33" y="186" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-134" value="主副本" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="143.5" y="330" width="72.5" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-135" value="lvol" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="143.5" y="370" width="73" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-144" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-134" target="zR75f5wU07sy2U2_FNKJ-135" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-138" value="逻辑存储池" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="144.5" y="410" width="74" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-143" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-135" target="zR75f5wU07sy2U2_FNKJ-138" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-139" value="软raid" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="146" y="450" width="74" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-145" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-138" target="zR75f5wU07sy2U2_FNKJ-139" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-140" value="物理盘" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="146" y="490" width="75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-146" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-139" target="zR75f5wU07sy2U2_FNKJ-140" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-148" value="" style="rounded=0;whiteSpace=wrap;html=1;fillColor=none;dashed=1;" parent="1" vertex="1">
          <mxGeometry x="131" y="307" width="100" height="222" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-150" value="Node 2" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="149.75" y="530" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-178" value="&lt;font style=&quot;font-size: 10px&quot;&gt;从副本&lt;br&gt;nvmf target&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-3.5" y="331" width="72.5" height="28" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-179" value="lvol" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-3.5" y="374" width="73" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-180" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-178" target="zR75f5wU07sy2U2_FNKJ-179" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-181" value="逻辑存储池" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-2.5" y="411" width="74" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-182" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-179" target="zR75f5wU07sy2U2_FNKJ-181" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-183" value="软raid" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-1" y="451" width="74" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-184" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-181" target="zR75f5wU07sy2U2_FNKJ-183" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-185" value="物理盘" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="-1" y="491" width="75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-186" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-183" target="zR75f5wU07sy2U2_FNKJ-185" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-188" value="Node 1" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="2.75" y="531" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-192" value="&lt;font style=&quot;font-size: 10px&quot;&gt;从副本&lt;br&gt;nvmf target&lt;/font&gt;" style="rounded=0;whiteSpace=wrap;html=1;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="276.75" y="326" width="72.5" height="28" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-166" value="lvol" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="273.5" y="369" width="73" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-167" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-192" target="zR75f5wU07sy2U2_FNKJ-166" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="309.75" y="349" as="sourcePoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-168" value="逻辑存储池" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="274.5" y="409" width="74" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-169" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-166" target="zR75f5wU07sy2U2_FNKJ-168" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-170" value="软raid" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="276" y="449" width="74" height="20" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-171" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-168" target="zR75f5wU07sy2U2_FNKJ-170" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-172" value="物理盘" style="whiteSpace=wrap;html=1;rounded=0;strokeColor=#000000;strokeWidth=1;fillColor=#FFFFFF;" parent="1" vertex="1">
          <mxGeometry x="276" y="489" width="75" height="30" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-173" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;" parent="1" source="zR75f5wU07sy2U2_FNKJ-170" target="zR75f5wU07sy2U2_FNKJ-172" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="zR75f5wU07sy2U2_FNKJ-175" value="Node 3" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="279.75" y="529" width="60" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-1" value="" style="shape=umlDestroy;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-839.9999999999999" y="1460" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-2" value="&lt;div style=&quot;text-align: left; font-size: 16px;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;存储服务端：&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-size: 16px;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;1. 以3副本为例，每个副本所在节点对外暴露nvmf target&lt;/span&gt;&lt;br style=&quot;font-size: 16px;&quot;&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-size: 16px;&quot;&gt;&lt;span style=&quot;font-size: 16px;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;2. 通过调度算法选择一个节点设置状态为optimized，对外可读可写&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left; font-size: 16px;&quot;&gt;&lt;font style=&quot;font-size: 16px;&quot;&gt;3. 其余2个节点设置状态为inaccessible，对外不可读写，客户端可以正常连接&lt;/font&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-978" y="1144" width="560" height="80" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-3" value="&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;客户端：&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;1. nvme内核模块开启multipath&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;2. 分别连接到每个副本提供的nvmf地址&lt;br style=&quot;font-size: 16px&quot;&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;3. 连接成功后nvme内核模块根据Controller ID和Namespace number聚合成一个NVMe设备&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;4. 客户端可读写聚合后的NVMe盘&lt;/font&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-978" y="1238.5" width="650" height="100" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-4" value="path 1" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="lCX16vnIdNITKf82VVHz-7" target="lCX16vnIdNITKf82VVHz-8" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-5" value="path 2" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="1" source="lCX16vnIdNITKf82VVHz-7" target="lCX16vnIdNITKf82VVHz-9" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-6" value="path 3" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="lCX16vnIdNITKf82VVHz-7" target="lCX16vnIdNITKf82VVHz-10" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-7" value="client&lt;br style=&quot;font-size: 12px;&quot;&gt;nvme connect -t tcp -a node-1 -s &amp;lt;port&amp;gt; -n &amp;lt;nqn&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;nvme connect -t tcp -a node-2 -s &amp;lt;port&amp;gt; -n &amp;lt;nqn&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;nvme connect -t tcp -a node-3 -s &amp;lt;port&amp;gt; -n &amp;lt;nqn&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-781.08" y="1375" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-8" value="node-1&lt;br style=&quot;font-size: 12px;&quot;&gt;（nvmf://node-1:&amp;lt;port&amp;gt;/&amp;lt;nqn&amp;gt;）&lt;br style=&quot;font-size: 12px;&quot;&gt;optimized" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-945.54" y="1514" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-9" value="node-2&lt;br style=&quot;font-size: 12px;&quot;&gt;（nvmf://node-2:&amp;lt;port&amp;gt;/&amp;lt;nqn&amp;gt;）&lt;br style=&quot;font-size: 12px;&quot;&gt;inaccessible" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-735.54" y="1514" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-10" value="node-3&lt;br style=&quot;font-size: 12px;&quot;&gt;（nvmf://node-3:&amp;lt;port&amp;gt;/&amp;lt;nqn&amp;gt;）&lt;br style=&quot;font-size: 12px;&quot;&gt;inaccessible" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-525.54" y="1514" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-11" value="&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;span&gt;当主副本所在节点发生故障（磁盘或网络故障等各种场景）&lt;/span&gt;&lt;br&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;br&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;存储服务端：&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;1. 主副本所在节点检测到自己不在集群中，触发自杀，停止自己的nvmf target服务&lt;br&gt;&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;2. 主副本所在节点进程故障，客户端会断开连接重连&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;3. 控制平面检测到主副本故障，重新选择剩下副本中一个作为新的主副本，同时删除故障节点child信息&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;确保客户端写数据时不再写入到故障副本&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;4. 如果集群中存在满足条件的其它节点，触发rebuild保证3副本完整性&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;5. rebuild完成后主副本添加child确保客户端同时写3副本&lt;/span&gt;&lt;/font&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-990" y="1684" width="740" height="180" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-12" value="&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;客户端：&lt;/font&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;1. 主副本连接断开，客户端会有短暂的io中断，一般在秒级（10s左右）&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;2. 当服务端完成主备切换后，客户端能看到一条新的optimized状态链路&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;3. 客户端multipath重新选择主副本，应用层io重试数据写入/读取成功&lt;br&gt;&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;4. 服务端rebuild完成后，客户端通过discovery service增加新的从副本连接信息&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left ; font-size: 16px&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;&lt;font style=&quot;font-size: 16px&quot;&gt;5. 最终客户端恢复到3条链路和初始状态一致&lt;/font&gt;&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=16;" parent="1" vertex="1">
          <mxGeometry x="-990" y="1864" width="570" height="120" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-13" value="" style="shape=umlDestroy;fillColor=#e51400;fontColor=#ffffff;strokeColor=#B20000;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-109.99999999999996" y="1460" width="30" height="30" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-14" value="path 1" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;dashed=1;" parent="1" source="lCX16vnIdNITKf82VVHz-17" target="lCX16vnIdNITKf82VVHz-18" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-15" value="path 2" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="1" source="lCX16vnIdNITKf82VVHz-17" target="lCX16vnIdNITKf82VVHz-19" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-16" value="path 3" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="lCX16vnIdNITKf82VVHz-17" target="lCX16vnIdNITKf82VVHz-20" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-17" value="client&lt;br style=&quot;font-size: 12px;&quot;&gt;nvme connect -t tcp -a node-2 -s &amp;lt;port&amp;gt; -n &amp;lt;nqn&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;nvme connect -t tcp -a node-3 -s &amp;lt;port&amp;gt; -n &amp;lt;nqn&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;nvme connect -t tcp -a node-4 -s &amp;lt;port&amp;gt; -n &amp;lt;nqn&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-80.00000000000009" y="1375" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-18" value="node-1&lt;br style=&quot;font-size: 12px;&quot;&gt;（nvmf://node-1:&amp;lt;port&amp;gt;/&amp;lt;nqn&amp;gt;）&lt;br style=&quot;font-size: 12px;&quot;&gt;inaccessible" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-270" y="1514" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-19" value="node-2&lt;br style=&quot;font-size: 12px;&quot;&gt;（nvmf://node-2:&amp;lt;port&amp;gt;/&amp;lt;nqn&amp;gt;）&lt;br style=&quot;font-size: 12px;&quot;&gt;optimized" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-33" y="1514" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-20" value="node-3&lt;br style=&quot;font-size: 12px;&quot;&gt;（nvmf://node-3:&amp;lt;port&amp;gt;/&amp;lt;nqn&amp;gt;）&lt;br style=&quot;font-size: 12px;&quot;&gt;inaccessible" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="216" y="1514" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-21" value="node-4&lt;br style=&quot;font-size: 12px;&quot;&gt;（nvmf://node-4:&amp;lt;port&amp;gt;/&amp;lt;nqn&amp;gt;）&lt;br style=&quot;font-size: 12px;&quot;&gt;inaccessible" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="440" y="1514" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-22" value="path 1&#39;" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="lCX16vnIdNITKf82VVHz-17" target="lCX16vnIdNITKf82VVHz-21" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="179.21000000000004" y="1355" as="sourcePoint" />
            <mxPoint x="449.75" y="1519" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-31" value="" style="shape=singleArrow;whiteSpace=wrap;html=1;fontSize=12;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="1" vertex="1">
          <mxGeometry x="-352" y="1410" width="100" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-24" value="client&lt;br style=&quot;font-size: 12px;&quot;&gt;nvme connect -t tcp -a node-1 -s &amp;lt;port&amp;gt; -n &amp;lt;nqn&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;nvme connect -t tcp -a node-2 -s &amp;lt;port&amp;gt; -n &amp;lt;nqn&amp;gt;&lt;br style=&quot;font-size: 12px;&quot;&gt;nvme connect -t tcp -a node-3 -s &amp;lt;port&amp;gt; -n &amp;lt;nqn&amp;gt;" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-791.5400000000001" y="830" width="280" height="60" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-25" value="node-1&lt;br style=&quot;font-size: 12px;&quot;&gt;（nvmf://node-1:&amp;lt;port&amp;gt;/&amp;lt;nqn&amp;gt;）&lt;br style=&quot;font-size: 12px;&quot;&gt;optimized" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-963" y="962" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-26" value="path 1" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="lCX16vnIdNITKf82VVHz-24" target="lCX16vnIdNITKf82VVHz-25" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-27" value="node-2&lt;br style=&quot;font-size: 12px;&quot;&gt;（nvmf://node-2:&amp;lt;port&amp;gt;/&amp;lt;nqn&amp;gt;）&lt;br style=&quot;font-size: 12px;&quot;&gt;inaccessible" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-746" y="962" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-28" value="path 2" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;fontSize=12;" parent="1" source="lCX16vnIdNITKf82VVHz-24" target="lCX16vnIdNITKf82VVHz-27" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-29" value="node-3&lt;br style=&quot;font-size: 12px;&quot;&gt;（nvmf://node-3:&amp;lt;port&amp;gt;/&amp;lt;nqn&amp;gt;）&lt;br style=&quot;font-size: 12px;&quot;&gt;inaccessible" style="rounded=0;whiteSpace=wrap;html=1;fontSize=12;" parent="1" vertex="1">
          <mxGeometry x="-533" y="962" width="190" height="50" as="geometry" />
        </mxCell>
        <mxCell id="lCX16vnIdNITKf82VVHz-30" value="path 3" style="edgeStyle=none;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;fontSize=12;" parent="1" source="lCX16vnIdNITKf82VVHz-24" target="lCX16vnIdNITKf82VVHz-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-23" value="&lt;font style=&quot;font-size: 16px&quot;&gt;正常io路径：&lt;br&gt;1. 假设node-1为主副本，node-2和node-3为从副本&lt;br&gt;2. 客户端通过node-1对外nvmf uri写入，也就是主nexus对象对外暴露的地址nvmf://node-1:4421&lt;br&gt;3. 主nexus对象首先写入本地lvol，注意这里不会走本地内部复制nvmf地址nvmf://node-1:8420&lt;br&gt;4. 主nexus对象同时给2个从nvmf对象发送io写入请求，注意这里分别走从nvmf地址为nvmf://node-2:8420和nvmf://node-3:8420&lt;br&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1013.04" y="2341" width="770" height="113" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-24" value="&lt;font style=&quot;font-size: 16px&quot;&gt;主备切换后io路径：&lt;br&gt;1. 假设node-1故障了，这是卷状态为degrade，node-2升为主副本，node-3为从副本&lt;br&gt;2. 客户端通过node-2对外nvmf uri写入，也就是主nexus对象对外暴露的地址nvmf://node-2:4421&lt;br&gt;3. 主nexus对象首先写入本地lvol，注意这里不会走本地内部复制nvmf地址nvmf://node-2:8420&lt;br&gt;4. 主nexus对象同时给从nvmf对象发送io写入请求，注意这里走从nvmf地址为nvmf://node-3:8420&lt;br&gt;&lt;/font&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1010.04" y="2791" width="780" height="94" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-25" value="&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;从图中可以得到几点：&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;1. 每个节点上每个逻辑卷都存在3个地址，包括对外nvmf，本地lvol和内部复制nvmf&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;2. 每个逻辑卷对应1个nexus对象，但是这个nexus对象是有多个副本，由于multipath我们选择的是主备模式，因此同一时刻只存在一个nexus对象对外可写&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;3. 对外nvmf写入数据的时候，必然会产生写放大，因为要保证多个副本同时完成写入，也就是强一致性&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;4. 内部复制nvmf写入数据的时候，效果和写入本地lvol一样，都是没有副本放大的&lt;/span&gt;&lt;/div&gt;&lt;div style=&quot;text-align: left&quot;&gt;&lt;span style=&quot;font-size: 16px&quot;&gt;5. 由于本机直接读写磁盘比通过nvmf性能要高，因此在主副本节点上数据落盘是不会经过本机的内部复制nvmf地址&lt;/span&gt;&lt;/div&gt;" style="text;html=1;strokeColor=none;fillColor=none;align=left;verticalAlign=middle;whiteSpace=wrap;rounded=0;" parent="1" vertex="1">
          <mxGeometry x="-1010.04" y="2941" width="730" height="152" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-26" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-909.04" y="2050" width="614" height="311" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-27" value="client" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="300" y="20" width="44" height="12" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-28" value="对外nvmf&lt;br&gt;nvmf://node-2:4421&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="29" y="184" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-29" value="&lt;span&gt;内部复制nvmf&lt;/span&gt;&lt;br&gt;&lt;span&gt;nvmf://node-2:8420&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="29" y="253" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-30" value="本地lvol&lt;br&gt;bdev:///&amp;lt;lvol_name&amp;gt;?uuid=&amp;lt;lvol_uuid&amp;gt;&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="29" y="217" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-31" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0.5;exitY=1;jettySize=auto;orthogonalLoop=1;" parent="a1uzJcFdWTJabidd8OP6-26" source="a1uzJcFdWTJabidd8OP6-32" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="322" y="86" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-32" value="对外nvmf&lt;br&gt;nvmf://node-1:4421&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="209" y="46.5" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-33" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;jettySize=auto;orthogonalLoop=1;" parent="a1uzJcFdWTJabidd8OP6-26" source="a1uzJcFdWTJabidd8OP6-27" target="a1uzJcFdWTJabidd8OP6-32" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-34" value="&lt;span&gt;内部复制nvmf&lt;/span&gt;&lt;br&gt;&lt;span&gt;nvmf://node-1:8420&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="209" y="127" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-35" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0;exitY=0.5;entryX=0;entryY=0.5;jettySize=auto;orthogonalLoop=1;" parent="a1uzJcFdWTJabidd8OP6-26" source="a1uzJcFdWTJabidd8OP6-32" target="a1uzJcFdWTJabidd8OP6-29" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-36" value="本地lvol&lt;br&gt;bdev:///&amp;lt;lvol_name&amp;gt;?uuid=&amp;lt;lvol_uuid&amp;gt;&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="209" y="86.5" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-37" value="对外nvmf&lt;br&gt;nvmf://node-3:4421&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="359" y="183" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-38" value="&lt;span&gt;内部复制nvmf&lt;/span&gt;&lt;br&gt;&lt;span&gt;nvmf://node-3:8420&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="359" y="254" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-39" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=1;exitY=0.5;entryX=1;entryY=0.5;jettySize=auto;orthogonalLoop=1;" parent="a1uzJcFdWTJabidd8OP6-26" source="a1uzJcFdWTJabidd8OP6-32" target="a1uzJcFdWTJabidd8OP6-38" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-40" value="本地lvol&lt;br&gt;bdev:///&amp;lt;lvol_name&amp;gt;?uuid=&amp;lt;lvol_uuid&amp;gt;&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="359" y="217" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-41" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;dashed=1;fillColor=none;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="197" y="39" width="250" height="120" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-42" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;dashed=1;fillColor=none;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="20" y="171" width="250" height="120" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-43" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;dashed=1;fillColor=none;" parent="a1uzJcFdWTJabidd8OP6-26" vertex="1">
          <mxGeometry x="344" y="171" width="250" height="120" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-61" value="" style="group" parent="1" vertex="1" connectable="0">
          <mxGeometry x="-905.04" y="2462" width="574" height="278" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-20" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;dashed=1;fillColor=none;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="324" y="158" width="250" height="120" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-21" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;dashed=1;fillColor=none;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="177" y="26" width="250" height="120" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-22" value="" style="rounded=0;whiteSpace=wrap;html=1;align=left;dashed=1;fillColor=none;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry y="158" width="250" height="120" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-62" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;" parent="a1uzJcFdWTJabidd8OP6-61" source="a1uzJcFdWTJabidd8OP6-45" target="a1uzJcFdWTJabidd8OP6-52" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-45" value="client" style="rounded=0;whiteSpace=wrap;html=1;align=left;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="280" width="44" height="12" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-48" value="对外nvmf&lt;br&gt;nvmf://node-2:4421&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="9" y="164" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-44" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;jettySize=auto;orthogonalLoop=1;" parent="a1uzJcFdWTJabidd8OP6-61" source="a1uzJcFdWTJabidd8OP6-45" target="a1uzJcFdWTJabidd8OP6-48" edge="1">
          <mxGeometry relative="1" as="geometry">
            <Array as="points">
              <mxPoint x="302" y="19" />
              <mxPoint x="122" y="19" />
            </Array>
          </mxGeometry>
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-49" value="&lt;span&gt;内部复制nvmf&lt;/span&gt;&lt;br&gt;&lt;span&gt;nvmf://node-2:8420&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="9" y="240" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-50" value="本地lvol&lt;br&gt;bdev:///&amp;lt;lvol_name&amp;gt;?uuid=&amp;lt;lvol_uuid&amp;gt;&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="9" y="204" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-46" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0.5;exitY=1;entryX=0.5;entryY=0;jettySize=auto;orthogonalLoop=1;" parent="a1uzJcFdWTJabidd8OP6-61" source="a1uzJcFdWTJabidd8OP6-48" target="a1uzJcFdWTJabidd8OP6-50" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-51" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0.5;exitY=1;jettySize=auto;orthogonalLoop=1;dashed=1;" parent="a1uzJcFdWTJabidd8OP6-61" source="a1uzJcFdWTJabidd8OP6-52" edge="1">
          <mxGeometry relative="1" as="geometry">
            <mxPoint x="302" y="73" as="targetPoint" />
          </mxGeometry>
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-52" value="对外nvmf&lt;br&gt;nvmf://node-1:4421&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="189" y="33.5" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-53" value="&lt;span&gt;内部复制nvmf&lt;/span&gt;&lt;br&gt;&lt;span&gt;nvmf://node-1:8420&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="189" y="114" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-54" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=0;exitY=0.5;entryX=0;entryY=0.5;jettySize=auto;orthogonalLoop=1;dashed=1;" parent="a1uzJcFdWTJabidd8OP6-61" source="a1uzJcFdWTJabidd8OP6-52" target="a1uzJcFdWTJabidd8OP6-49" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-55" value="本地lvol&lt;br&gt;bdev:///&amp;lt;lvol_name&amp;gt;?uuid=&amp;lt;lvol_uuid&amp;gt;&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="189" y="73.5" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-56" value="对外nvmf&lt;br&gt;nvmf://node-3:4421&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="339" y="170" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-57" value="&lt;span&gt;内部复制nvmf&lt;/span&gt;&lt;br&gt;&lt;span&gt;nvmf://node-3:8420&lt;/span&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="339" y="241" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-47" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=1;exitY=0.5;entryX=0;entryY=0.5;jettySize=auto;orthogonalLoop=1;" parent="a1uzJcFdWTJabidd8OP6-61" source="a1uzJcFdWTJabidd8OP6-48" target="a1uzJcFdWTJabidd8OP6-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-58" style="edgeStyle=orthogonalEdgeStyle;rounded=0;html=1;exitX=1;exitY=0.5;entryX=1;entryY=0.5;jettySize=auto;orthogonalLoop=1;dashed=1;" parent="a1uzJcFdWTJabidd8OP6-61" source="a1uzJcFdWTJabidd8OP6-52" target="a1uzJcFdWTJabidd8OP6-57" edge="1">
          <mxGeometry relative="1" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-59" value="本地lvol&lt;br&gt;bdev:///&amp;lt;lvol_name&amp;gt;?uuid=&amp;lt;lvol_uuid&amp;gt;&lt;br&gt;" style="rounded=0;whiteSpace=wrap;html=1;flipH=1;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="339" y="204" width="226" height="27" as="geometry" />
        </mxCell>
        <mxCell id="a1uzJcFdWTJabidd8OP6-60" value="" style="shape=umlDestroy;whiteSpace=wrap;html=1;strokeWidth=3;fillColor=none;align=left;strokeColor=#FF0000;" parent="a1uzJcFdWTJabidd8OP6-61" vertex="1">
          <mxGeometry x="240" y="53" width="120" height="66" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
